<% title "Book your #{@service.name} at #{@vendor.name}" %>
<div class = "vendor-sign-up col-lg-10 offset-lg-1 col-sm-12">
  <div class = "container">
    <div class = "row">
      <div class = "col-md-4 col-sm-12">
        <div class = "booking-box">
          <h3 class = "font-weight-light ">10:00AM Thursday 26th July</h3>
          <hr />
          <h5>  <%= @vendor.name%></h5>
          <h6><%= @service.name%></h6>
          <hr/>
          <p><i class="fas fa-circle hours-icon"></i>
          Duration: <strong><%=@service.hours%> hrs <%=@service.minutes %> mins</strong></p>
          <p><i class="fas fa-circle hours-icon"></i>
          Amount to pay at the salon: 
          <% if !@service.cost_absolute.blank? %>
            <strong>$<%= sprintf("%.2f",@service.cost_absolute) %></strong>
          <% end %>
          <% if !@service.cost_range.blank? %>
            $<%= @service.cost_range %>0
          <% end %>
          </p>
        </div>
      </div>
      <div class = "col-md-8 col-sm-12">
        <h4>Complete Your Booking</h4>
        <br />
        <div class = "form-group">
          <%= simple_form_for @booking, url: vendor_service_bookings_path(@vendor, @service) do |f| %>
            <div class = "container-fluid">
              <div class = "row">
                <div class = "col-md-8 col-sm-12">
                  <%= f.input :client_name, label: "Full Name", input_html: {class: "form-control form-control-sm" } %> 
                </div>
                <div class = "col-md-4 col-sm-12">
                  <%= f.input :phone, label: "Phone Number", input_html: {class: "form-control form-control-sm", id: "client_phone" } %> 
                </div>
              </div>
              <%= f.input :notes, label: "Notes for Stylist (optional)", input_html: {class: "form-control form-control-sm" } %> 
            </div>
        </div>
      </div>
    </div>
    <br/>
    <div class = "float-right">
      By continuing you agree to the <strong><%= link_to "Booking Terms & Cancellation Policy", '#'%></strong>. &nbsp; &nbsp; <%= f.submit "Book Now", class: 'btn btn-primary btn-lg' %>
    </div>
    <div class = "clear"> </div>
  <% end %>
    <br />
    <br />
    <h5>Cancellations</h5>
    <p> Most salons and beauty companies are independent businesses, thus it is very inconvenient when you fail to show for an appointment. We know that things happen, so if you cannot make your appointment, notify the vendor via <strong>phone</strong> no later than 24 hours beforehand. <strong>Failure to show for your appointment without notifying your stylist can result in you not being able to make another booking on this platform</strong>. </p>
    
    <p>View our 
    <strong><%= link_to "Booking Terms & Cancellation Policy", '#' %></strong> to learn more.</p>
  </div >


</div>


<script>
  $("#client_phone").intlTelInput({
    preferredCountries: ["bs", "tt", "tc", "jm", "bb", "ag"],
    formatOnDisplay: true,
    nationalMode: false,
    hiddenInput: "full_phone",
    utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/12.1.15/js/utils.js"
});


$("form").submit(function() {
  $('#country').val($('#country').intlTelInput("getNumber"));
});

</script>